<link rel="stylesheet" href="dist/font-awesome.min.css" />
<link href="dist/boxicons/css/boxicons.min.css" rel="stylesheet" />
<link href="stylesheets/product-details.css" rel="stylesheet" />

<div class="mt-4 featuredProds">
    <div class="container productsList d-flex justify-content-center mt-1">
        <h1 class="text-white fw-bold fs-2 mr-1">Customers choice.</h1>
        <div class="row">
            <% PRODUCTS.forEach(product => {%>
            <div class="col-lg-4 col-md col-sm-12 mt-md-4" onclick="window.location='/product?pid=<%=product.id%>';">
                <div
                    class="card card-body productOnList"
                    style="
                        min-width: 200px;
                        height: 100% !important;
                        overflow: hidden;
                        padding: 20px;
                        border-radius: 20px;
                    "
                >
                    <div class="media align-items-center text-center text-lg-left flex-column">
                        <div class="mb-3 mb-lg-0">
                            <img
                                style="margin: auto; display: block; object-fit: contain"
                                class="mb-4"
                                src="img/loading-img.webp"
                                data-src="<%-product.img %>"
                                width="200"
                                height="140"
                                alt=""
                            />
                        </div>
                        <div class="media-body text-center">
                            <h6 class="media-title font-weight-semibold">
                                <a
                                    href="/product?pid=<%-product.id%>"
                                    data-abc="true"
                                    style="
                                        text-align: center;
                                        overflow: hidden;
                                        text-overflow: ellipsis;
                                        display: -webkit-box;
                                        -webkit-line-clamp: 1; /* number of lines to show */
                                        line-clamp: 2;
                                        -webkit-box-orient: vertical;
                                        font-size: 15px;
                                    "
                                >
                                    <%- product.name %>
                                </a>
                            </h6>
                        </div>

                        <div class="text-center">
                            <h3 class="font-weight-semibold mb-2"><%- product.price.toFixed(2) %>â‚¬</h3>

                            <div style="display: flex; justify-content: center">
                                <button
                                    class="btn btn-danger mt-1 text-white border-0 bg-transparent"
                                    onclick="window.location='/product?pid=<%= product.id %>'; event.stopPropagation()"
                                >
                                    <span
                                        style="font-size: 25px; vertical-align: middle"
                                        class="bx bx-search-alt-2 center-text center-text text-black"
                                    ></span>
                                </button>
                                <% if(product.online){ %>
                                <button
                                    id="addToCart"
                                    class="btn btn-danger mt-1 text-white border-0 bg-transparent"
                                    data-id="<%- product.id %>"
                                >
                                    <span
                                        style="font-size: 25px; vertical-align: middle"
                                        class="bx bx-cart-add center-text text-black"
                                    ></span>
                                </button>
                                <% } %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <% }) %>
            <p class="text-white text-center mt-4 fs-6">Featured products based on other customers choices.</p>
        </div>
    </div>
</div>
