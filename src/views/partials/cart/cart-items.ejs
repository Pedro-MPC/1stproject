<link rel="stylesheet" href="stylesheets/cartstyle.css" />

<div data-cart="true" class="shopping-cart-header text-center">
    <span data-cart="true" style="font-size: 18px" class="fw-bold" id="titleCart"
        >Shopping Cart <% if(CartSize){%>(<%- CartSize %>)<%} %></span
    >
</div>

<% if( empty ){ %>
<p class="text-center m-4 lighter-text fs-6">Your cart is empty.</p>

<% }else{ %>
<div id="cart-size-container" data-cart-size="<%- CartSize %>"></div>

<ul
    data-cart="true"
    class="shopping-cart-items isCart"
    style="max-height: calc(100vh - 15rem); overflow: auto"
    id="productsListCart"
>
    <% CartItem.forEach(item => {%>
    <li data-cart="true" class="clearfix isCart">
        <img
            data-cart="true"
            src="<%- item.PRODUCT.img %>"
            alt="item1"
            class="mt-3 mr-2"
            style="max-width: 75px; box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px"
        />
        <span data-cart="true" class="item-name isCart" style="text-align: left"
            ><a class="text-black" href="/product?pid=<%- item.PRODUCT.id %>"
                ><p style="white-space: nowrap; overflow: hidden; display: block; text-overflow: ellipsis">
                    <%- item.PRODUCT.name %>
                </p></a
            ></span
        >
        <span data-cart="true" class="item-quantity" style="float: left">Quantity: <%- item.quantity %></span>
        <span data-cart="true" class="item-price" style="float: right"><%- item.PRODUCT.price.toFixed(2) %>€</span>
    </li>
    <% })}%>
</ul>
<div
    style="
        min-height: 10vh;

        background-color: white;
        position: fixed;
        bottom: 10px;
        width: 350px;
        border-top: 1px solid rgba(0, 0, 0, 0.253);
    "
>
    <span data-cart="true" class="lighter-text mt-3" style="float: left">Total:</span>
    <span data-cart="true" class="main-color-text mt-3" style="float: right" id="totalCart"
        ><%- Total.toFixed(2) %>€</span
    >
    <a href="/checkout" data-cart="true" class="btn btn-block btn-dark mt-50">Checkout</a>
</div>
